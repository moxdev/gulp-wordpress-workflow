{"version":3,"file":"navigation.min.js","sources":["js/navigation.js"],"sourcesContent":["/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\n( function() {\n  let container, button, menu, links, i, len;\n\n  container = document.getElementById( 'site-navigation' );\n  if ( ! container ) {\n    return;\n  }\n\n  button = container.getElementsByTagName( 'button' )[ 0 ];\n  if ( 'undefined' === typeof button ) {\n    return;\n  }\n\n  menu = container.getElementsByTagName( 'ul' )[ 0 ];\n\n  // Hide menu toggle button if menu is empty and return early.\n  if ( 'undefined' === typeof menu ) {\n    button.style.display = 'none';\n    return;\n  }\n\n  menu.setAttribute( 'aria-expanded', 'false' );\n  if ( -1 === menu.className.indexOf( 'nav-menu' ) ) {\n    menu.className += ' nav-menu';\n  }\n\n  button.onclick = function() {\n    if ( -1 !== container.className.indexOf( 'toggled' ) ) {\n      container.className = container.className.replace( ' toggled', '' );\n      button.setAttribute( 'aria-expanded', 'false' );\n      menu.setAttribute( 'aria-expanded', 'false' );\n    } else {\n      container.className += ' toggled';\n      button.setAttribute( 'aria-expanded', 'true' );\n      menu.setAttribute( 'aria-expanded', 'true' );\n    }\n  };\n\n  // Get all the link elements within the menu.\n  links = menu.getElementsByTagName( 'a' );\n\n  // Each time a menu link is focused or blurred, toggle focus.\n  for ( i = 0, len = links.length; i < len; i++ ) {\n    links[ i ].addEventListener( 'focus', toggleFocus, true );\n    links[ i ].addEventListener( 'blur', toggleFocus, true );\n  }\n\n  /**\n   * Sets or removes .focus class on an element.\n   */\n  function toggleFocus() {\n    let self = this;\n\n    // Move up through the ancestors of the current link until we hit .nav-menu.\n    while ( -1 === self.className.indexOf( 'nav-menu' ) ) {\n      // On li elements toggle the class .focus.\n      if ( 'li' === self.tagName.toLowerCase() ) {\n        if ( -1 !== self.className.indexOf( 'focus' ) ) {\n          self.className = self.className.replace( ' focus', '' );\n        } else {\n          self.className += ' focus';\n        }\n      }\n\n      self = self.parentElement;\n    }\n  }\n\n  /**\n   * Toggles `focus` class to allow submenu access on tablets.\n   */\n  ( function( container ) {\n    let touchStartFn, i,\n      parentLink = container.querySelectorAll( '.menu-item-has-children > a, .page_item_has_children > a' );\n\n    if ( 'ontouchstart' in window ) {\n      touchStartFn = function( e ) {\n        let menuItem = this.parentNode,\n          i;\n\n        if ( ! menuItem.classList.contains( 'focus' ) ) {\n          e.preventDefault();\n          for ( i = 0; i < menuItem.parentNode.children.length; ++i ) {\n            if ( menuItem === menuItem.parentNode.children[ i ] ) {\n              continue;\n            }\n            menuItem.parentNode.children[ i ].classList.remove( 'focus' );\n          }\n          menuItem.classList.add( 'focus' );\n        } else {\n          menuItem.classList.remove( 'focus' );\n        }\n      };\n\n      for ( i = 0; i < parentLink.length; ++i ) {\n        parentLink[ i ].addEventListener( 'touchstart', touchStartFn, false );\n      }\n    }\n  }( container ) );\n}() );\n"],"names":["container","button","menu","links","i","len","document","getElementById","getElementsByTagName","setAttribute","className","indexOf","onclick","replace","length","addEventListener","toggleFocus","touchStartFn","parentLink","querySelectorAll","window","e","menuItem","this","parentNode","classList","contains","remove","preventDefault","children","add","style","display","self","tagName","toLowerCase","parentElement"],"mappings":"0BAME,eACIA,EAAWC,EAAQC,EAAMC,EAAOC,EAAGC,MAEvCL,EAAYM,SAASC,eAAgB,0BAMhC,KADLN,EAASD,EAAUQ,qBAAsB,UAAY,YAQhD,KAHLN,EAAOF,EAAUQ,qBAAsB,MAAQ,SAQ/CN,EAAKO,aAAc,gBAAiB,UAC9B,IAAMP,EAAKQ,UAAUC,QAAS,cAClCT,EAAKQ,WAAa,aAGpBT,EAAOW,QAAU,YACT,IAAMZ,EAAUU,UAAUC,QAAS,YACvCX,EAAUU,UAAYV,EAAUU,UAAUG,QAAS,WAAY,IAC/DZ,EAAOQ,aAAc,gBAAiB,SACtCP,EAAKO,aAAc,gBAAiB,WAEpCT,EAAUU,WAAa,WACvBT,EAAOQ,aAAc,gBAAiB,QACtCP,EAAKO,aAAc,gBAAiB,UAQlCL,EAAI,EAAGC,GAHbF,EAAQD,EAAKM,qBAAsB,MAGVM,OAAQV,EAAIC,EAAKD,IACxCD,EAAOC,GAAIW,iBAAkB,QAASC,GAAa,GACnDb,EAAOC,GAAIW,iBAAkB,OAAQC,GAAa,mBA4B9CC,EAAcb,EAChBc,EAyBDlB,EAzBwBmB,iBAAkB,+DAEtC,iBAAkBC,WACrBH,EAAe,SAAUI,OAErBjB,EADEkB,EAAWC,KAAKC,cAGbF,EAASG,UAAUC,SAAU,SAUlCJ,EAASG,UAAUE,OAAQ,aAVmB,KAC9CN,EAAEO,iBACIxB,EAAI,EAAGA,EAAIkB,EAASE,WAAWK,SAASf,SAAUV,EACjDkB,IAAaA,EAASE,WAAWK,SAAUzB,IAGhDkB,EAASE,WAAWK,SAAUzB,GAAIqB,UAAUE,OAAQ,SAEtDL,EAASG,UAAUK,IAAK,WAMtB1B,EAAI,EAAGA,EAAIc,EAAWJ,SAAUV,EACpCc,EAAYd,GAAIW,iBAAkB,aAAcE,GAAc,WA9ElEhB,EAAO8B,MAAMC,QAAU,gBAiChBhB,YACHiB,EAAOV,MAGF,IAAMU,EAAKvB,UAAUC,QAAS,aAEhC,OAASsB,EAAKC,QAAQC,iBACnB,IAAMF,EAAKvB,UAAUC,QAAS,SAClCsB,EAAKvB,UAAYuB,EAAKvB,UAAUG,QAAS,SAAU,IAEnDoB,EAAKvB,WAAa,UAItBuB,EAAOA,EAAKG,eAhEhB"}